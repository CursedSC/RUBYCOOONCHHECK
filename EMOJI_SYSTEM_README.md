# üñºÔ∏è –°–∏—Å—Ç–µ–º–∞ —ç–º–æ–¥–∑–∏ –∏ —É–∫—Ä–∞—à–µ–Ω–∏–π –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

### ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ü–µ–Ω—ã –Ω–∞ —É–∫—Ä–∞—à–µ–Ω–∏—è** (–º–∞–∫—Å–∏–º—É–º 25 RubyCoins):
   - –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏:
     - `golden_line`: 10 RC (–±—ã–ª–æ 75)
     - `neon_glow`: 12 RC (–±—ã–ª–æ 100)
     - `rainbow_wave`: 18 RC (–±—ã–ª–æ 200)
     - `cosmic_dust`: 15 RC (–±—ã–ª–æ 150)
     - `dragon_flame`: 22 RC (–±—ã–ª–æ 250)
     - `void_essence`: 25 RC (–±—ã–ª–æ 500)
   
   - –≠–º–æ–¥–∑–∏:
     - `crown`: 15 RC (–±—ã–ª–æ 50)
     - `fire`: 8 RC (–±—ã–ª–æ 25)
     - `diamond`: 18 RC (–±—ã–ª–æ 100)
     - `skull`: 12 RC (–±—ã–ª–æ 60)
     - `star`: 6 RC (–±—ã–ª–æ 20)
     - `dragon_head`: 22 RC (–±—ã–ª–æ 200)
     - `phoenix`: 25 RC (–±—ã–ª–æ 400)
   
   - –ö–∞—Å—Ç–æ–º–Ω–æ–µ —ç–º–æ–¥–∑–∏: 20 RC (–±—ã–ª–æ 100)

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —ç–º–æ–¥–∑–∏ –≤ Discord —Å–µ—Ä–≤–µ—Ä**:
   - –≠–º–æ–¥–∑–∏ —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–µ Discord —ç–º–æ–¥–∑–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–æ–¥–∑–∏ (GIF)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–º–æ–¥–∑–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `custom_`
   - Fallback –Ω–∞ URL –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**:
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—É `character_custom_emojis`:
     - `discord_emoji_id` - ID —ç–º–æ–¥–∑–∏ –Ω–∞ Discord —Å–µ—Ä–≤–µ—Ä–µ
     - `discord_emoji_identifier` - –ü–æ–ª–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä `<:custom_emoji:123456>`)
     - `animated` - –§–ª–∞–≥ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —ç–º–æ–¥–∑–∏
     - `original_url` - –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü—ã

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π**:
   - –≠–º–æ–¥–∑–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –∏–º–µ–Ω–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ webhook —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Discord —Ñ–æ—Ä–º–∞—Ç–∞ —ç–º–æ–¥–∑–∏ `<:name:id>`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–æ–¥–∑–∏ `<a:name:id>`

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ `shopConfig.json`**:
```json
{
  "customEmojiSettings": {
    "enabled": true,
    "basePrice": 20,
    "maxSize": 256,
    "allowedFormats": ["png", "jpg", "jpeg", "gif", "webp"],
    "guildId": "YOUR_GUILD_ID_HERE",
    "uploadToBot": true,
    "emojiPrefix": "custom_"
  }
}
```

2. **–í–∞–∂–Ω–æ**: –£–∫–∞–∂–∏—Ç–µ `guildId` - ID —Å–µ—Ä–≤–µ—Ä–∞ –∫—É–¥–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —ç–º–æ–¥–∑–∏. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —Å–µ—Ä–≤–µ—Ä –≤ –∫—ç—à–µ –±–æ—Ç–∞.

3. **–ü—Ä–∞–≤–∞ –±–æ—Ç–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –±–æ—Ç–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–æ `MANAGE_EMOJIS_AND_STICKERS` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

1. **–ü–æ–∫—É–ø–∫–∞ —ç–º–æ–¥–∑–∏ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –ø—Ä–æ—Ñ–∏–ª—è
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ú–∞–≥–∞–∑–∏–Ω –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è"
   - –í—ã–±–µ—Ä–∏—Ç–µ "üñºÔ∏è –ö–∞—Ç–∞–ª–æ–≥ —ç–º–æ–¥–∑–∏"
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–µ–µ—Å—è —ç–º–æ–¥–∑–∏
   - –ö—É–ø–∏—Ç–µ –∑–∞ RubyCoins (–º–∞–∫—Å–∏–º—É–º 25 RC)

2. **–ó–∞–≥—Ä—É–∑–∫–∞ —Å–≤–æ–µ–≥–æ —ç–º–æ–¥–∑–∏**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –º–∞–≥–∞–∑–∏–Ω –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
   - –í—ã–±–µ—Ä–∏—Ç–µ "‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—ë —ç–º–æ–¥–∑–∏"
   - –í–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (PNG, JPG, GIF, WebP)
   - –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–∫—É–ø–∫—É (20 RC)
   - –≠–º–æ–¥–∑–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –Ω–∞ Discord —Å–µ—Ä–≤–µ—Ä!

3. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏ –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É**:
   - –í —Ä–∞–∑–¥–µ–ª–µ "üì¶ –ú–æ–∏ –ø–æ–∫—É–ø–∫–∏" –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "üñºÔ∏è –≠–º–æ–¥–∑–∏"
   - –í—ã–±–µ—Ä–∏—Ç–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
   - –≠–º–æ–¥–∑–∏ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ –∏–º–µ–Ω–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —ç–º–æ–¥–∑–∏:

```javascript
uploadEmojiToGuild(client, imageUrl, emojiName)
```

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è:
1. –°–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ URL
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä (–º–∞–∫—Å 256KB)
3. –°–æ–∑–¥–∞–µ—Ç —ç–º–æ–¥–∑–∏ –Ω–∞ Discord —Å–µ—Ä–≤–µ—Ä–µ
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ —ç–º–æ–¥–∑–∏:
   - `id` - Discord ID —ç–º–æ–¥–∑–∏
   - `name` - –ò–º—è —ç–º–æ–¥–∑–∏
   - `url` - CDN URL —ç–º–æ–¥–∑–∏
   - `identifier` - –ü–æ–ª–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä `<:name:id>`
   - `animated` - –§–ª–∞–≥ –∞–Ω–∏–º–∞—Ü–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ ProfileHandler:

```javascript
// –ü–æ–ª—É—á–∞–µ–º —ç–º–æ–¥–∑–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
const customEmoji = await this.db.getCharacterCustomEmoji(profile.character_id);

// –î–æ–±–∞–≤–ª—è–µ–º –∫ –∏–º–µ–Ω–∏
if (customEmoji && customEmoji.discord_emoji_identifier) {
    displayName = `${customEmoji.discord_emoji_identifier} ${profile.name}`;
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```sql
CREATE TABLE character_custom_emojis (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL UNIQUE,
    emoji_url TEXT NOT NULL,
    emoji_name TEXT,
    discord_emoji_id TEXT,
    discord_emoji_identifier TEXT,
    animated BOOLEAN DEFAULT 0,
    original_url TEXT,
    purchased_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE
)
```

## üé® –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–∫—É–ø–∫–∞ —ç–º–æ–¥–∑–∏ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /–ø—Ä–æ—Ñ–∏–ª—å
-> –ú–∞–≥–∞–∑–∏–Ω –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
-> üñºÔ∏è –ö–∞—Ç–∞–ª–æ–≥ —ç–º–æ–¥–∑–∏
-> –í—ã–±—Ä–∞—Ç—å "üëÅÔ∏è –ì–ª–∞–∑–∞ –¥–µ–º–æ–Ω–∞" (18 RC)
-> –ö—É–ø–∏—Ç—å
-> –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É

–†–µ–∑—É–ª—å—Ç–∞—Ç: <:demon_eyes:123456> –ò–º—è –ü–µ—Ä—Å–æ–Ω–∞–∂–∞
```

### –ü—Ä–∏–º–µ—Ä 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Å–≤–æ–µ–≥–æ —ç–º–æ–¥–∑–∏
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /–ø—Ä–æ—Ñ–∏–ª—å
-> –ú–∞–≥–∞–∑–∏–Ω –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
-> ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—ë —ç–º–æ–¥–∑–∏
-> URL: https://example.com/my_emoji.png
-> –ù–∞–∑–≤–∞–Ω–∏–µ: my_emoji
-> –ö—É–ø–∏—Ç—å (20 RC)

–†–µ–∑—É–ª—å—Ç–∞—Ç: <:custom_my_emoji:789012> –ò–º—è –ü–µ—Ä—Å–æ–Ω–∞–∂–∞
```

### –ü—Ä–∏–º–µ—Ä 3: –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —ç–º–æ–¥–∑–∏
```
URL: https://example.com/animated.gif

–†–µ–∑—É–ª—å—Ç–∞—Ç: <a:custom_animated:345678> –ò–º—è –ü–µ—Ä—Å–æ–Ω–∞–∂–∞
```

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–õ–∏–º–∏—Ç —ç–º–æ–¥–∑–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**: Discord –ø–æ–∑–≤–æ–ª—è–µ—Ç:
   - –û–±—ã—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã: 50 —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö + 50 –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
   - –°–µ—Ä–≤–µ—Ä—ã —Å –±—É—Å—Ç–∞–º–∏: –¥–æ 250 —ç–º–æ–¥–∑–∏

2. **–†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**: –ú–∞–∫—Å–∏–º—É–º 256KB

3. **–§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏**: –¢–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω–∏—Ü–∞, —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è

4. **Fallback**: –ï—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å, —ç–º–æ–¥–∑–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ URL

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤:
```javascript
console.log('‚úÖ –≠–º–æ–¥–∑–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ:', emojiData);
console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```sql
SELECT * FROM character_custom_emojis WHERE discord_emoji_id IS NOT NULL;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–º–æ–¥–∑–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```javascript
const guild = client.guilds.cache.get(guildId);
console.log('–≠–º–æ–¥–∑–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:', guild.emojis.cache.size);
```

## üìù Changelog

### v2.0 (–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è)
- ‚úÖ –°–Ω–∏–∂–µ–Ω—ã –≤—Å–µ —Ü–µ–Ω—ã –¥–æ –º–∞–∫—Å–∏–º—É–º 25 RC
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —ç–º–æ–¥–∑–∏ –≤ Discord —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Discord —ç–º–æ–¥–∑–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —ç–º–æ–¥–∑–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —á–µ—Ä–µ–∑ webhook
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–æ–¥–∑–∏ (GIF)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### v1.0 (–ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è)
- –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–º–æ–¥–∑–∏ —á–µ—Ä–µ–∑ URL
- –í—ã—Å–æ–∫–∏–µ —Ü–µ–Ω—ã (–¥–æ 500 RC)
- –ë–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ Discord

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ (`MANAGE_EMOJIS_AND_STICKERS`)
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `guildId` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç —ç–º–æ–¥–∑–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–∞–∫—Å 256KB)
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –æ—à–∏–±–∫–∏

---

Made with ‚ù§Ô∏è for RubyBot


